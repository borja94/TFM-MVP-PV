
CREATE TABLE TEACHER
(
ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
NAME VARCHAR(50) NOT NULL,
SURNAME VARCHAR(50)NOT NULL,
CONSTRAINT TEACHER_primary_key PRIMARY KEY (id)
) ;

CREATE TABLE STUDENT
(
ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
NAME VARCHAR(50) NOT NULL,
SURNAME VARCHAR(50)NOT NULL,
CONSTRAINT STUDENT_primary_key PRIMARY KEY (id)
) ;

CREATE TABLE SUBJECT
(
ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
TITLE VARCHAR(50) NOT NULL,
COURSE INTEGER NOT NULL,
CONSTRAINT SUBJECT_primary_key PRIMARY KEY (id)
) ;


CREATE TABLE TEACHER_SUBJECT
(
ID_SUBJECT INTEGER NOT NULL REFERENCES SUBJECT(ID)ON DELETE CASCADE,
ID_TEACHER INTEGER NOT NULL REFERENCES TEACHER(ID)ON DELETE CASCADE,
CONSTRAINT TEACHER_SUBJECT_primary_key PRIMARY KEY (ID_SUBJECT,ID_TEACHER)
) ;

CREATE TABLE STUDENT_SUBJECT
(
ID_SUBJECT INTEGER NOT NULL REFERENCES SUBJECT(ID) ON DELETE CASCADE,
ID_STUDENT INTEGER NOT NULL REFERENCES STUDENT(ID) ON DELETE CASCADE,
CONSTRAINT STUDENT_SUBJECT_primary_key PRIMARY KEY (ID_SUBJECT,ID_STUDENT)
) ;

